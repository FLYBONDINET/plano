<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Plataforma Operacional EZE</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
<div class="app-title"><span>ğŸ—¼</span>SAEZCONTROLâ€‘TRFC</div>

  <div id="map"></div>
  <div id="darkOverlay"></div>

  <header class="topbar">
    <div class="topbar-left">
      <button id="btnEditor">Modo editor</button>
      <button id="btnRefresh" class="primary">ğŸ”„ Refrescar</button>
    </div>
    <div class="topbar-right" id="editorPills" hidden>
      <span class="pill">Modo editor</span>
      <button id="btnAddPos">ğŸ“ Cargar posiciones</button>
      <button id="btnAirport">ğŸ›£ï¸ Editar aeropuerto</button>
      <button id="btnExitEditor" class="danger">Cerrar editor</button>
    </div>
  </header>

  <aside id="sidebar" class="sidebar" hidden>
    <div class="sidebar-section">
      <h3>Posiciones creadas</h3>
      <ul id="posList" class="pos-list"></ul>
    </div>

    <div class="sidebar-section" id="airportTools" hidden>
      <h3>Herramientas aeropuerto</h3>
      <label class="row">
        <span>Color</span>
        <input type="color" id="lineColor" value="#ffffff"/>
      </label>
      <label class="row">
        <span>Grosor</span>
        <input type="range" id="lineWidth" min="1" max="12" value="3"/>
      </label>
      <div class="btn-row">
        <button id="btnFinishLine">Finalizar lÃ­nea</button>
        <button id="btnUndo">Deshacer</button>
      </div>
      <button id="btnClearLines" class="danger-outline">Borrar todas las lÃ­neas</button>
      <p class="hint">Tip: En â€œEditar aeropuertoâ€, hacÃ© click por puntos para unir lÃ­neas.</p>
    </div>
  </aside>

  <section id="flightBox" class="flight-box">
    <div class="flight-box-header">
      <span>âœˆï¸ Arribos detectados</span>
      <button id="closeFlightBox" aria-label="Cerrar">âœ–</button>
    </div>
    <ul id="flightList"></ul>
  </section>

  <!-- Modal: contraseÃ±a -->
  <div id="pwModal" class="modal hidden">
    <div class="modal-box">
      <h3>Entrar a modo editor</h3>
      <label>ContraseÃ±a</label>
      <input id="pwInput" type="password" placeholder="12345678" />
      <div class="actions">
        <button id="pwCancel">Cancelar</button>
        <button id="pwOk" class="primary">Ingresar</button>
      </div>
      <p class="small">Solo para editar posiciones y lÃ­neas del aeropuerto.</p>
    </div>
  </div>

  <!-- Modal: crear/editar posiciÃ³n -->
  <div id="posModal" class="modal hidden">
    <div class="modal-box">
      <h3 id="posModalTitle">Nueva posiciÃ³n</h3>

      <label>Nombre (ej: 14B)</label>
      <input id="posName" placeholder="14B"/>

      <label>Heading (HDG)</label>
      <input id="posHdg" type="range" min="0" max="360" value="0"/>
      <div class="small">HDG: <b><span id="hdgVal">0</span>Â°</b></div>

      <label>Color del punto</label>
      <input id="posColor" type="color" value="#FFD100"/>

      <label>UbicaciÃ³n del nombre</label>
      <select id="labelPos">
        <option value="front">Adelante</option>
        <option value="back">AtrÃ¡s</option>
        <option value="left">Izquierda</option>
        <option value="right">Derecha</option>
      </select>

      <div class="actions">
        <button id="posDelete" class="danger-outline" hidden>Eliminar</button>
        <button id="posCancel">Cancelar</button>
        <button id="posSave" class="primary">Guardar</button>
      </div>
      <p class="small">Mientras movÃ©s el HDG vas a ver una lÃ­nea punteada de previsualizaciÃ³n.</p>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
